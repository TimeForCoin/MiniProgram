<!--pages/userInfo/userInfo-->
<scroll-view id="container" scroll-y="{{true}}">
  <view id="basic_info">
    <!--ç”¨æˆ·åä»¥åŠåŸºæœ¬ä¿¡æ¯-->
    <view id="name_info">
      <view wx:if="{{hasUserInfo}}">
        <!--å¤´åƒéƒ¨åˆ†-->
        <view id="head_basic">
          <image wx:if="{{hasUserInfo}}" class="head" src="{{userInfo.info.avatar}}" />
          <image wx:else class="head" src="/images/touxiang.jpg" bindtap='bindLogin' />
        </view>
        <view class="info_view">
          <text class="info_text" style="font-weight:bold">{{userInfo.info.nickname}}</text>
        </view>
      </view>
      <button wx:else id="login" open-type="getUserInfo" bindgetuserinfo="setUserInfo">ç‚¹å‡»æ­¤å¤„ç™»å½•</button>
    </view>
  </view>
  <!--ä¸‹åŠéƒ¨åˆ†-->
  <view class="downRegion">
    <view class='navi_cells'>
      <view class="band"></view>
      <view class="left-view" bindtap='onClickMoney'>
        <view class='user-value'>ğŸ’° {{userInfo.data.money}}</view>
        <view>é—²å¸</view>
      </view>
      <view class='right-view' bindtap='onClickAttend' >
        <view class='user-value'>ğŸ’³ {{userInfo.data.value}}</view>
        <view>ç§¯åˆ†/ç­¾åˆ°</view>
      </view>

    </view>
    <!--ç¬¬ä¸€ç»„å¯¼èˆª-->
    <view class='navi_cells'>
      <view class="band"></view>
      <view wx:for="{{nav_a}}" wx:key="item.id" class="cell">
        <!-- <image class="navi_icon" src="/images/userInfo/navi_1_{{item.id}}.png" /> -->
        <view class="item_view" data-item="{{item.id}}" bindtap='navigate'>
          <image class="navi_icon" src="/images/icons/{{item.src}}.png" />
          <text class="navi_text">{{item.name}}</text>
          <image class="right_narrow" src="/images/icons/narrow.png" />
        </view>
      </view>
    </view>

    <!--ç¬¬äºŒç»„å¯¼èˆª-->
    <view class='navi_cells'>
      <view class="band"></view>
      <view wx:for="{{nav_b}}" wx:key="item.id" class="cell">
        <!-- <image class="navi_icon" src="/images/userInfo/navi_1_{{item.id}}.png" /> -->
        <view class="item_view" data-item="{{item.id}}" bindtap='navigate'>
          <image class="navi_icon" src="/images/icons/{{item.src}}.png" />
          <text class="navi_text">{{item.name}}</text>
          <image class="right_narrow" src="/images/icons/narrow.png" />
        </view>
      </view>
      <view class="band"></view>
    </view>
  </view>
</scroll-view>



<!--å¯¹è¯æ¡†-->
<view class="modalDialog" wx:if="{{hasUserInfo && isEditInfo}}">
  <image src="/images/icons/close.png" class="close" bindtap="closeEditPage" />
  <scroll-view scroll-y style="height:800rpx;">
    <view id="insideContainer">
      <view style="margin: 10rpx auto 0rpx auto;">
        <image src="/images/icons/up.png" class="downImg"></image>
        <text style="font-size: 20rpx;color: gray; margin-left : 10rpx;">ä¸Šæ»‘</text>
      </view>
      <image src="{{userInfo.info.avatar}}" class="ava" />
      <text class="title">æ˜µç§°</text>
      <input name="username" class="input_setting" placeholder="è¯·è¾“å…¥æ˜µç§°" maxlength='25' value="{{nickname}}" bindinput="changeNickname" />
      <view class="band1" />
      <text class="title">æ€§åˆ«</text>
      <radio-group name="radio-group" class="info_text" style="margin-left: 60rpx; display:flex; flex-direction:row;" bindchange="changeGender">
        <view class="radio" wx:for="{{gender_items}}" wx:key="val">
          <radio color="#ff7e67" value="{{item.val}}" checked="{{gender == item.val}}" style="margin-left:50rpx;" />{{item.name}}
        </view>
      </radio-group>
      <text class="title">ä¸ªäººç®€ä»‹</text>
      <textarea name="bio" class="input_setting" placeholder="è¯·è¾“å…¥ä¸ªäººç®€ä»‹" maxlength='128' value="{{bio}}" bindinput="changeBio" style="height: 150rpx; width:80%; word-wrap:break-word" />
      <view class="band1" />
      <text class="title">é‚®ç®±</text>
      <input name="email" class="input_setting" placeholder="è¯·è¾“å…¥é‚®ç®±" maxlength='25' value="{{email}}" bindinput="changeEmail" />
      <view class="band1" />
      <text class="title">æ‰‹æœºå·ç </text>
      <input name="phone" class="input_setting" type='digit' placeholder="æ‰‹æœºå·ç " maxlength='15' value="{{phone}}" bindinput="changePhone" />
      <view class="band1" />
      <text class="title">å­¦æ ¡</text>
      <input name="school" class="input_setting" placeholder="è¯·è¾“å…¥æ‚¨çš„å­¦æ ¡" maxlength='25' value="{{school}}" bindinput="changeSchool" />
      <view class="band1" />
      <text class="title">åœ°å€</text>
      <textarea name="address" class="input_setting" placeholder="è¯·è¾“å…¥æ‚¨çš„åœ°å€" maxlength='32' value="{{location}}" bindinput="changeLocation" style="height: 80rpx; width:80%; word-wrap:break-word" />
      <view class="band1" />
      <button class='submit_btn' bindtap="submit">æäº¤</button>
    </view>
  </scroll-view>
</view>
<!--è’™æ¿-->
<view class="mask" catchtouchmove="preventTouchMove" wx:if="{{hasUserInfo && isEditInfo}}" />